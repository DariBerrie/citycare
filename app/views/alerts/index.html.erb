<div class="container">
  <div class="row align-items-center">
    <div class="col-12 col-lg-6">
      <div class="map-container">
        <div class='map-size'
          data-controller="map"
          data-map-alerts-value="<%= @alerts.to_json %>"
          data-map-markers-value="<%= @markers.to_json %>"
          data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"
          data-map-target="map">
        </div>
      </div>
    </div>
    <div data-controller="alerts"  class="col-12 col-lg-6">
      <div class="search-box shadow">
        <h3>Hi <%= current_user.first_name %>!</h3>
        <h4>Can you tell us where the issue is?</h4>
        <div id="geocoder" class="geocoder"
             data-action="submit->map#buildAlertList"></div>
      </div>

      <div class="d-flex justify-content-center mt-4 ">
        <h3>Alerts in this area</h3>
        <a data-action="click->alerts#showAlert" class="btn btn-primary rounded-right fs-3 text-white toggle">â†“</a>
      </div>

      <div data-alerts-target="list" id="listings" class="listings">
        <% @alerts.each do |alert| %>
        <%= render 'shared/alert_banner', alert: alert %>
        <% end %>
        <h3>Don't see your issue above?</h3>
        <a class="btn btn-primary rounded fs-3 text-white" href="#">Send a new alert</a>
      </div>

    </div>
  </div>
</div>
