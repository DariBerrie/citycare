<%= turbo_stream_from current_user, :notifications %>
<% unless @notifications.last.read? %>
  <div
    style="position:absolute; top: 88px; right:8px;width:300px;z-index:1;"
    id="notification"
    data-controller="notification"
    data-notification-delay-value="2000"
    class="transition transform duration-1000 bg-white shadow-sm rounded-4 p-3"
    data-transition-enter-from="opacity-0 translate-x-6"
    data-transition-enter-to="opacity-100 translate-x-0"
    data-transition-leave-from="opacity-100 translate-x-0"
    data-transition-leave-to="opacity-0 translate-x-6">
      <div class="notification-details d-flex flex-row justify-content-evenly">
        <button class="close-button text-primary bg-white border-0 pe-3 align-self-start"
                data-action="notification#hide"><i class="fa-solid fa-circle-xmark"></i></button>
        <%=link_to "#{@notifications.last.to_notification.message}", alert_path(@notifications.last.params[:alert]) %>
        <% @notifications.last.mark_as_read! %>
      </div>
    </div>
<% end %>
